(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{209:function(t){t.exports=JSON.parse('{"situations_particulieres":["MUTILE","HANDICAP"],"lien_parente":["PAPA","MAMAN"],"nature_titre":["ACTIONS_COTEES","ACTIONS_NON_COTEES","PARTS_DROITS_SOCIAUX","NATURE_INCONNUE"],"demembrement":["PLEINE PROPRIETE","NUE PROPRIETE","USUFRUIT"],"type_bien":["OBJET_ART","BIJOU_METAL_PRECIEUX","CHEVAL","BATEAU","VIN_SPIRITUEUX","VOITURE_LUXE","AUTRE"]}')},210:function(t,e,r){var content=r(214);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(81).default)("6759f5ab",content,!0,{sourceMap:!1})},211:function(t,e,r){"use strict";var n=r(7),o=r(212),c=r(146),l=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c);n(n.P+n.F*l,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},212:function(t,e,r){var n=r(26),o=r(147),c=r(34);t.exports=function(t,e,r,l){var d=String(c(t)),m=d.length,f=void 0===r?" ":String(r),v=n(e);if(v<=m||""==f)return d;var h=v-m,_=o.call(f,Math.ceil(h/f.length));return _.length>h&&(_=_.slice(0,h)),l?_+d:d+_}},213:function(t,e,r){"use strict";var n=r(210);r.n(n).a},214:function(t,e,r){(e=r(80)(!1)).push([t.i,".btn{background-color:transparent;--text-opacity:1;color:#2c7a7b;color:rgba(44,122,123,var(--text-opacity));font-weight:600;padding:.25rem .5rem;border-width:1px;--border-opacity:1;border-color:#38b2ac;border-color:rgba(56,178,172,var(--border-opacity));border-radius:.25rem}.btn-xs{padding:0 .25rem;font-size:.75rem}.btn-big{padding:0 1rem;font-size:1.5rem;font-weight:400}.btn-color,.btn:hover{--bg-opacity:1;background-color:#38b2ac;background-color:rgba(56,178,172,var(--bg-opacity));--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity));border-color:transparent}.btn-big:hover{color:#2c7a7b;color:rgba(44,122,123,var(--text-opacity));border-width:1px;border-color:#38b2ac;border-color:rgba(56,178,172,var(--border-opacity))}.btn-big:hover,.btn:disabled,.btn:disabled:hover{background-color:transparent;--text-opacity:1;--border-opacity:1}.btn:disabled,.btn:disabled:hover{color:#a0aec0;color:rgba(160,174,192,var(--text-opacity));border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}",""]),t.exports=e},215:function(t,e,r){"use strict";r.r(e);r(15),r(9),r(46);var n=r(6),o=r(16),c=r(22),l=r(209),d=r(23),m=(r(78),r(25),r(33),r(211),r(35)),f=r(79),v={},h=r(32),_=Object(h.a)(v,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"shadow border-solid border border-gray-300 px-3 py-2 rounded"},[this._t("default")],2)}),[],!1,null,null,null).exports,y={props:["cle","donnee"],data:function(){return{enums:l}},computed:{}},x=Object(h.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid grid-cols-2 gap-3 my-1 mx-20"},[r("label",{staticClass:"flex-1 text-right font-semibold",attrs:{for:t.cle}},[t._t("default")],2),t._v(" "),r("div",["string"==typeof t.donnee?[t.enums.hasOwnProperty(t.cle)?r("select",{staticClass:"box-content block appearance-none w-full bg-white border px-1",attrs:{name:t.cle},domProps:{value:t.donnee},on:{input:function(e){return t.$emit("input",e)}}},t._l(t.enums[t.cle],(function(e){return r("option",{domProps:{value:e}},[t._v("\n                    "+t._s(e)+"\n                ")])})),0):r("input",{staticClass:"box-content border px-2",attrs:{type:"text",name:t.cle},domProps:{value:t.donnee},on:{input:function(e){return t.$emit("input",e)}}})]:t._l(t.enums[t.cle],(function(e){return r("div",[r("input",{attrs:{type:"checkbox",name:t.cle,libelle:e},domProps:{value:t.donnee},on:{input:function(e){return t.$emit("input",e)}}}),t._v(" "),r("label",{attrs:{for:t.cle}},[t._v("\n                "+t._s(e)+"\n            ")])])}))],2)])}),[],!1,null,null,null).exports;function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function j(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(m.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O={components:{Card:_,InputJson:x},props:["cleActeur","donneesParDefaut","rang"],data:function(){return{afficherJson:!1,enums:l}},computed:j(j({},Object(f.b)({acteur:function(t){return t.obj.acteurs[(void 0).cleActeur]}})),{},{acteur:{get:function(){return this.$store.state.donation.acteurs[this.cleActeur]}}}),methods:{modifier:function(t){this.$store.commit("donation/majActeur",{eventTarget:t.target,cleActeur:this.cleActeur})},changerSpi:function(){for(var t="",i=0;i<10;i++)t+=Math.floor(10*Math.random());var e=t%511+"";e=e.padStart(3,"0"),this.$store.commit("donation/majSpi",{cleActeur:this.cleActeur,spi:t+e})},supprimer:function(){this.$store.commit("donation/suppressionActeur",this.cleActeur)}}},k=Object(h.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("card",[r("svg",{staticClass:"float-right cursor-pointer mx-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",title:"Changer de SPI"},on:{click:t.changerSpi}},[r("polyline",{attrs:{points:"1 4 1 10 7 10"}}),t._v(" "),r("polyline",{attrs:{points:"23 20 23 14 17 14"}}),t._v(" "),r("path",{attrs:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}})]),t._v(" "),1==t.rang?r("svg",{staticClass:"float-right cursor-pointer mx-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},on:{click:t.supprimer}},[r("polyline",{attrs:{points:"3 6 5 6 21 6"}}),t._v(" "),r("path",{attrs:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}),t._v(" "),r("line",{attrs:{x1:"10",y1:"11",x2:"10",y2:"17"}}),t._v(" "),r("line",{attrs:{x1:"14",y1:"11",x2:"14",y2:"17"}})]):t._e(),t._v(" "),r("button",{staticClass:"btn btn-xs float-right mx-2",on:{click:function(e){t.afficherJson=!t.afficherJson}}},[t._v("\n        JSON\n    ")]),t._v(" "),r("h3",{staticClass:"text-xl mb-4 italic font-medium"},[t._t("default")],2),t._v(" "),r("form",[t._l(Object.keys(t.donneesParDefaut),(function(e){return t.afficherJson?t._e():r("input-json",{key:e,attrs:{cle:e,donnee:t.acteur[e]},on:{input:t.modifier}},[t._v("\n            "+t._s(t.donneesParDefaut[e])+"\n        ")])})),t._v(" "),t._l(Object.keys(t.acteur),(function(e){return t.afficherJson&&"number"!=typeof t.acteur[e]?r("input-json",{key:e,attrs:{cle:e,donnee:t.acteur[e]},on:{input:t.modifier}},[t._v("\n            "+t._s(e)+"\n        ")]):t._e()}))],2)])}),[],!1,null,null,null).exports;function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function P(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(m.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var A={components:{Card:_,InputJson:x},props:["cleArgent"],data:function(){return{afficherJson:!1}},computed:P(P({},Object(f.b)({argent:function(t){return t.obj.argent[(void 0).cleArgent]}})),{},{argent:{get:function(){return this.$store.state.donation.composants[this.cleArgent]}}}),methods:{supprimer:function(){this.$store.commit("donation/suppressionArgent",this.cleArgent)}}},D=Object(h.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("card",[r("svg",{staticClass:"float-right cursor-pointer mx-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},on:{click:t.supprimer}},[r("polyline",{attrs:{points:"3 6 5 6 21 6"}}),t._v(" "),r("path",{attrs:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}),t._v(" "),r("line",{attrs:{x1:"10",y1:"11",x2:"10",y2:"17"}}),t._v(" "),r("line",{attrs:{x1:"14",y1:"11",x2:"14",y2:"17"}})]),t._v(" "),r("h3",{staticClass:"text-xl mb-4 italic font-medium"},[r("span",{staticClass:"text-gray-400"},[t._v(" Composant : ")]),t._v("Argent\n    ")]),t._v(" "),r("div",{staticClass:"grid grid-cols-2 gap-3 my-1 mx-20"},[r("label",{staticClass:"flex-1 text-right font-semibold",attrs:{for:"valeur"}},[t._v("\n            Valeur\n        ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.argent.valeur,expression:"argent.valeur"}],staticClass:"box-content border px-2",attrs:{type:"text",name:"valeur"},domProps:{value:t.argent.valeur},on:{input:function(e){e.target.composing||t.$set(t.argent,"valeur",e.target.value)}}})])])}),[],!1,null,null,null).exports;function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function T(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(m.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var E={components:{Card:_,InputJson:x},props:["cleTitre"],data:function(){return{afficherJson:!1}},computed:T(T({},Object(f.b)({titre:function(t){return t.obj.titre[(void 0).cleTitre]}})),{},{titre:{get:function(){return this.$store.state.donation.composants[this.cleTitre]}}}),methods:{modifier:function(t){this.$store.commit("donation/majTitre",{eventTarget:t.target,cleTitre:this.cleTitre})},modifierTableau:function(t,e,r){this.$store.commit("donation/majTitreTableau",{cleTitre:this.cleTitre,demembrement:t,donnee:e,valeur:r})},supprimer:function(){this.$store.commit("donation/suppressionTitre",this.cleTitre)}}},R=Object(h.a)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("card",[r("svg",{staticClass:"float-right cursor-pointer mx-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},on:{click:t.supprimer}},[r("polyline",{attrs:{points:"3 6 5 6 21 6"}}),t._v(" "),r("path",{attrs:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}),t._v(" "),r("line",{attrs:{x1:"10",y1:"11",x2:"10",y2:"17"}}),t._v(" "),r("line",{attrs:{x1:"14",y1:"11",x2:"14",y2:"17"}})]),t._v(" "),r("button",{staticClass:"btn btn-xs float-right mx-2",on:{click:function(e){t.afficherJson=!t.afficherJson}}},[t._v("\n        JSON\n    ")]),t._v(" "),r("h3",{staticClass:"text-xl mb-4 italic font-medium"},[r("span",{staticClass:"text-gray-400"},[t._v(" Composant : ")]),t._v(" "),t._t("default")],2),t._v(" "),r("table",{staticClass:"w-full border-collapse "},[r("thead",[r("tr",[r("th"),t._v(" "),r("th",{staticClass:"border border-gray-400"},[t._v("Nombre de titres")]),t._v(" "),r("th",{staticClass:"border border-gray-400"},[t._v("Valeur unitaire")])])]),t._v(" "),r("tbody",[r("tr",[r("th",{staticClass:"border border-gray-400"},[t._v("Pleine propriété")]),t._v(" "),r("td",{staticClass:"border border-gray-400"},[r("input",{staticClass:"text-right",attrs:{type:"text"},domProps:{value:t.titre.demembrement.pleinePropriete.nb_titres},on:{input:function(e){return t.modifierTableau("pleinePropriete","nb_titres",e.target.value)}}})]),t._v(" "),r("td",{staticClass:"border border-gray-400"},[r("input",{staticClass:"text-right",attrs:{type:"text"},domProps:{value:t.titre.demembrement.pleinePropriete.valeur_titre},on:{input:function(e){return t.modifierTableau("pleinePropriete","valeur_titre",e.target.value)}}})])]),t._v(" "),r("tr",[r("th",{staticClass:"border border-gray-400"},[t._v("Nue propriété")]),t._v(" "),r("td",{staticClass:"border border-gray-400"},[r("input",{staticClass:"text-right",attrs:{type:"text"},domProps:{value:t.titre.demembrement.nuePropriete.nb_titres},on:{input:function(e){return t.modifierTableau("nuePropriete","nb_titres",e.target.value)}}})]),t._v(" "),r("td",{staticClass:"border border-gray-400"},[r("input",{staticClass:"text-right",attrs:{type:"text"},domProps:{value:t.titre.demembrement.nuePropriete.valeur_titre},on:{input:function(e){return t.modifierTableau("nuePropriete","valeur_titre",e.target.value)}}})])]),t._v(" "),r("tr",[r("th",{staticClass:"border border-gray-400"},[t._v("Usufruit")]),t._v(" "),r("td",{staticClass:"border border-gray-400"},[r("input",{staticClass:"text-right",attrs:{type:"text"},domProps:{value:t.titre.demembrement.usufruit.nb_titres},on:{input:function(e){return t.modifierTableau("usufruit","nb_titres",e.target.value)}}})]),t._v(" "),r("td",{staticClass:"border border-gray-400"},[r("input",{staticClass:"text-right",attrs:{type:"text"},domProps:{value:t.titre.demembrement.usufruit.valeur_titre},on:{input:function(e){return t.modifierTableau("usufruit","valeur_titre",e.target.value)}}})])])])]),t._v(" "),r("form",{staticClass:"mt-4"},t._l(Object.keys(t.titre),(function(e){return t.afficherJson&&"number"!=typeof t.titre[e]&&"demembrement"!=e?r("input-json",{key:e,attrs:{cle:e,donnee:t.titre[e]},on:{input:t.modifier}},[t._v("\n            "+t._s(e)+"\n        ")]):t._e()})),1)])}),[],!1,null,null,null).exports;function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function J(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(m.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var I={components:{Card:_,InputJson:x},props:["cleAutre","donneesParDefaut"],data:function(){return{afficherJson:!1}},computed:J(J({},Object(f.b)({autre:function(t){return t.obj.autre[(void 0).cleAutre]}})),{},{autre:{get:function(){return this.$store.state.donation.composants[this.cleAutre]}}}),methods:{modifier:function(t){this.$store.commit("donation/majAutre",{eventTarget:t.target,cleAutre:this.cleAutre})},supprimer:function(){this.$store.commit("donation/suppressionAutre",this.cleAutre)}}},N={components:{Card:_,Acteur:k,Argent:D,Titre:R,Autre:Object(h.a)(I,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("card",[r("svg",{staticClass:"float-right cursor-pointer mx-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},on:{click:t.supprimer}},[r("polyline",{attrs:{points:"3 6 5 6 21 6"}}),t._v(" "),r("path",{attrs:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}),t._v(" "),r("line",{attrs:{x1:"10",y1:"11",x2:"10",y2:"17"}}),t._v(" "),r("line",{attrs:{x1:"14",y1:"11",x2:"14",y2:"17"}})]),t._v(" "),r("button",{staticClass:"btn btn-xs float-right mx-2",on:{click:function(e){t.afficherJson=!t.afficherJson}}},[t._v("\n        JSON\n    ")]),t._v(" "),r("h3",{staticClass:"text-xl mb-4 italic font-medium"},[r("span",{staticClass:"text-gray-400"},[t._v(" Composant : ")]),t._v(" "),t._t("default")],2),t._v(" "),r("form",[t._l(Object.keys(t.donneesParDefaut),(function(e){return t.afficherJson?t._e():r("input-json",{key:e,attrs:{cle:e,donnee:t.autre[e]},on:{input:t.modifier}},[t._v("\n            "+t._s(t.donneesParDefaut[e])+"\n        ")])})),t._v(" "),t._l(Object.keys(t.autre),(function(e){return t.afficherJson&&"number"!=typeof t.autre[e]?r("input-json",{key:e,attrs:{cle:e,donnee:t.autre[e]},on:{input:t.modifier}},[t._v("\n            "+t._s(e)+"\n        ")]):t._e()}))],2)])}),[],!1,null,null,null).exports},props:["cleDemarche"],data:function(){return{donneesParDefautDonataire:{identifiant:"SPI",nom:"Nom",date_naissance:"Date de naissance",situations_particulieres:"Situations particulières"},donneesParDefautDonateur:{identifiant:"SPI",nom:"Nom",prenom:"Prenom",date_naissance:"Date de naissance",lien_parente:"Lien de parenté"},donneesParDefautAutre:{demembrement:"Démembrement",valeur:"Valeur"}}},computed:{demarche:{get:function(){return this.$store.state.donation.demarches[this.cleDemarche]}}},methods:{ajouterDonateur:function(){this.$store.commit("donation/ajouterDonateur",this.cleDemarche)},ajouterArgent:function(){this.$store.commit("donation/ajouterArgent",this.cleDemarche)},ajouterTitre:function(){this.$store.commit("donation/ajouterTitre",this.cleDemarche)},ajouterAutre:function(){this.$store.commit("donation/ajouterAutre",this.cleDemarche)},supprimer:function(){this.$store.commit("donation/suppressionDemarche",this.cleDemarche)}}},U={components:{Demarche:Object(h.a)(N,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("card",{staticClass:"p-4 mb-2"},[r("svg",{staticClass:"float-right cursor-pointer mx-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},on:{click:t.supprimer}},[r("polyline",{attrs:{points:"3 6 5 6 21 6"}}),t._v(" "),r("path",{attrs:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}),t._v(" "),r("line",{attrs:{x1:"10",y1:"11",x2:"10",y2:"17"}}),t._v(" "),r("line",{attrs:{x1:"14",y1:"11",x2:"14",y2:"17"}})]),t._v(" "),r("h2",{staticClass:"text-2xl mb-4 italic font-medium"},[t._t("default")],2),t._v(" "),r("div",{staticClass:"grid grid-cols-3 gap-4"},[r("acteur",{attrs:{cleActeur:t.demarche.donataire,donneesParDefaut:t.donneesParDefautDonataire}},[t._v("\n            Donataire\n        ")]),t._v(" "),t._l(t.demarche.donateurs,(function(e,n){return r("acteur",{key:e,attrs:{cleActeur:e,donneesParDefaut:t.donneesParDefautDonateur,rang:t.$store.state.donation.demarches[t.cleDemarche].donateurs.indexOf(e)}},[t._v("\n            Donateur "+t._s(n+1)+"\n        ")])})),t._v(" "),1==t.demarche.donateurs.length?r("div",[r("button",{staticClass:"btn",on:{click:t.ajouterDonateur}},[t._v("\n                Ajouter un donateur\n            ")])]):t._e()],2),t._v(" "),r("div",{staticClass:"grid grid-cols-3 gap-4 mt-4"},[t.demarche.argent?r("argent",{attrs:{cleArgent:t.demarche.argent}}):t._e(),t._v(" "),t._l(t.demarche.titres,(function(e,n){return r("titre",{key:e,attrs:{cleTitre:e}},[t._v("\n            Titre "+t._s(n+1)+"\n        ")])})),t._v(" "),t._l(t.demarche.autres,(function(e,n){return r("autre",{key:e,attrs:{cleAutre:e,donneesParDefaut:t.donneesParDefautAutre}},[t._v("\n            Autre bien "+t._s(n+1)+"\n        ")])})),t._v(" "),r("div",[r("button",{staticClass:"btn mb-1",attrs:{disabled:t.demarche.argent>0},on:{click:t.ajouterArgent}},[t._v('\n                Ajouter un composant "Argent"\n            ')]),t._v(" "),r("br"),t._v(" "),r("button",{staticClass:"btn mb-1",on:{click:t.ajouterTitre}},[t._v('\n                Ajouter un composant "Titres"\n            ')]),t._v(" "),r("br"),t._v(" "),r("button",{staticClass:"btn",on:{click:t.ajouterAutre}},[t._v('\n                Ajouter un composant "Autres"\n            ')])])],2)])}),[],!1,null,null,null).exports,routes:o},data:function(){return{baseRoute:o.baseURL+o.namespace,enums:l}},methods:{ajouterDemarche:function(){this.$store.commit("donation/ajouterDemarche")},focusUploadInput:function(){this.$refs.inputUpload.click()},charger:function(t){var e=this,r=new FileReader;r.onload=function(t){var r=JSON.parse(t.target.result);e.$store.commit("donation/chargerJson",r)},r.readAsText(t.target.files[0])},enregistrer:function(){var t=JSON.stringify(this.$store.state.donation),e=new Blob([t],{type:"text/plain;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){var n=URL.createObjectURL(e);r.setAttribute("href",n),r.setAttribute("download","Sans nom.json"),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},flow:function(){this.listeDemarches.forEach(this.envoyerDemarche)},envoyerDemarche:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var l,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=e.$store.state.donation.demarches[t],m={donataire:l.donataire,donateurs:l.donateurs,argent:l.argent,titres:l.titres,autres:l.autres},l=d.a.nettoyer(l,c.demarche),r.next=5,e.$axios.$post(e.baseRoute+o.post.demarches,l).then((function(t){m.donateurs.forEach(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.envoyerMutation(t.demarche.id,n,m);case 1:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())})).catch((function(t){console.log(t)}));case 5:case"end":return r.stop()}}),r)})))()},envoyerMutation:function(t,e,r){var l=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(m=d.a.clone(c.mutation)).demarche=t,n.next=4,l.$axios.$post(l.baseRoute+o.post.mutations,m).then((function(t){l.envoyerActeurs(t.mutation.id,[r.donataire,e]),l.envoyerComposants(t.mutation.id,r)})).catch((function(t){console.log(t)}));case 4:case"end":return n.stop()}}),n)})))()},envoyerActeurs:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:e.forEach(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(n){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.$store.state.donation.acteurs[n],(l=d.a.nettoyer(l,c.donataire)).mutation=t,e.next=5,r.$axios.$post(r.baseRoute+o.post.acteurs,l).catch((function(t){console.log(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return l.stop()}}),l)})))()},envoyerComposants:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.argent&&r.envoyerArgent(t,e),e.titres.length&&r.envoyerTitres(t,e),e.autres.length&&r.envoyerAutres(t,e);case 3:case"end":return n.stop()}}),n)})))()},envoyerArgent:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l=r.$store.state.donation.composants[e.argent],(l=d.a.nettoyer(l,c.argent)).mutation=t,l.valeur=""+l.valeur/e.donateurs.length,r.$axios.$post(r.baseRoute+o.post.argent,l).catch((function(t){console.log(t)}));case 5:case"end":return n.stop()}}),n)})))()},envoyerTitres:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function m(){var f,i;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:f={pleinePropriete:l.demembrement[0],nuePropriete:l.demembrement[1],usufruit:l.demembrement[2]},i=1,e.titres.forEach(function(){var l=Object(n.a)(regeneratorRuntime.mark((function n(l){var m,v,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:m=r.$store.state.donation.composants[l],(v=d.a.nettoyer(m,c.titre)).mutation=t,v.rang=""+i,n.t0=regeneratorRuntime.keys(m.demembrement);case 5:if((n.t1=n.t0()).done){n.next=15;break}return h=n.t1.value,v.demembrement=f[h],v.nb_titres=m.demembrement[h].nb_titres,v.valeur_titre=m.demembrement[h].valeur_titre,v.valeur_total_titres=""+v.nb_titres*v.valeur_titre/e.donateurs.length,n.next=13,r.$axios.$post(r.baseRoute+o.post.titres,v).catch((function(t){console.log(t)}));case 13:n.next=5;break;case 15:i++;case 16:case"end":return n.stop()}}),n)})));return function(t){return l.apply(this,arguments)}}());case 3:case"end":return m.stop()}}),m)})))()},envoyerAutres:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function l(){var i;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:i=1,e.autres.forEach(function(){var l=Object(n.a)(regeneratorRuntime.mark((function n(l){var m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m=r.$store.state.donation.composants[l],(m=d.a.nettoyer(m,c.autre)).mutation=t,m.rang=""+i,m.valeur=""+m.valeur/e.donateurs.length,n.next=7,r.$axios.$post(r.baseRoute+o.post.autres,m).catch((function(t){console.log(t)}));case 7:i++;case 8:case"end":return n.stop()}}),n)})));return function(t){return l.apply(this,arguments)}}());case 2:case"end":return l.stop()}}),l)})))()}},computed:{listeDemarches:{get:function(){return this.$store.state.donation.listeDemarches}}}},M=(r(213),Object(h.a)(U,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-4"},[r("button",{staticClass:"btn btn-big btn-color float-right  inline-flex items-center",on:{click:t.flow}},[r("svg",{staticClass:"mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M18 8h1a4 4 0 0 1 0 8h-1"}}),t._v(" "),r("path",{attrs:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"}}),t._v(" "),r("line",{attrs:{x1:"6",y1:"1",x2:"6",y2:"4"}}),t._v(" "),r("line",{attrs:{x1:"10",y1:"1",x2:"10",y2:"4"}}),t._v(" "),r("line",{attrs:{x1:"14",y1:"1",x2:"14",y2:"4"}})]),t._v("\n\n        Flow !\n    ")]),t._v(" "),r("input",{ref:"inputUpload",staticClass:"hidden",attrs:{type:"file",accept:".json"},on:{change:function(e){return t.charger(e)}}}),t._v(" "),r("button",{staticClass:"btn btn-big float-right inline-flex items-center mr-2",on:{click:t.focusUploadInput}},[r("svg",{staticClass:"mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}}),t._v(" "),r("polyline",{attrs:{points:"17 8 12 3 7 8"}}),t._v(" "),r("line",{attrs:{x1:"12",y1:"3",x2:"12",y2:"15"}})]),t._v("\n        Post\n    ")]),t._v(" "),r("button",{staticClass:"btn btn-big float-right inline-flex items-center mr-2",on:{click:t.enregistrer}},[r("svg",{staticClass:"mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}},[r("path",{attrs:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}}),t._v(" "),r("polyline",{attrs:{points:"7 10 12 15 17 10"}}),t._v(" "),r("line",{attrs:{x1:"12",y1:"15",x2:"12",y2:"3"}})]),t._v("\n        Get\n    ")]),t._v(" "),r("h1",{staticClass:"text-3xl mb-2 italic text-teal-600"},[t._v("Bouchomatic EE")]),t._v(" "),t._l(t.listeDemarches,(function(e,n){return r("demarche",{key:e,attrs:{cleDemarche:e}},[t._v("\n        Démarche "+t._s(n+1)+"\n    ")])})),t._v(" "),r("button",{staticClass:"btn btn-blue",on:{click:t.ajouterDemarche}},[t._v("\n        Ajouter une démarche\n    ")])],2)}),[],!1,null,null,null));e.default=M.exports}}]);